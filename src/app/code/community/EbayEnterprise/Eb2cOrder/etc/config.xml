<?xml version="1.0" encoding="utf-8"?>
<!--
  Copyright (c) 2013-2014 eBay Enterprise, Inc.

  NOTICE OF LICENSE

  This source file is subject to the Open Software License (OSL 3.0)
  that is bundled with this package in the file LICENSE.md.
  It is also available through the world-wide-web at this URL:
  http://opensource.org/licenses/osl-3.0.php

  @copyright   Copyright (c) 2013-2014 eBay Enterprise, Inc. (http://www.ebayenterprise.com/)
  @license     http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
-->
<config>
	<modules>
		<EbayEnterprise_Eb2cOrder>
			<version>1.1.0.0</version>
		</EbayEnterprise_Eb2cOrder>
	</modules>
	<global>
		<models>
			<eb2corder>
				<class>EbayEnterprise_Eb2cOrder_Model</class>
			</eb2corder>
			<eav>
				<rewrite>
					<entity_type>EbayEnterprise_Eb2cOrder_Overrides_Model_Eav_Entity_Type</entity_type>
				</rewrite>
			</eav>
			<enterprise_rma>
				<rewrite>
					<rma>EbayEnterprise_Eb2cOrder_Overrides_Model_Enterprise_Rma</rma>
				</rewrite>
			</enterprise_rma>
		</models>
		<helpers>
			<eb2corder>
				<class>EbayEnterprise_Eb2cOrder_Helper</class>
			</eb2corder>
			<sales>
				<rewrite>
					<data>EbayEnterprise_Eb2cOrder_Overrides_Helper_Sales</data>
					<guest>EbayEnterprise_Eb2cOrder_Overrides_Helper_Sales_Guest</guest>
				</rewrite>
			</sales>
		</helpers>
		<blocks>
			<sales>
				<rewrite>
					<order_history>EbayEnterprise_Eb2cOrder_Overrides_Block_Order_History</order_history>
					<order_recent>EbayEnterprise_Eb2cOrder_Overrides_Block_Order_Recent</order_recent>
					<order_view>EbayEnterprise_Eb2cOrder_Overrides_Block_Order_View</order_view>
				</rewrite>
			</sales>
		</blocks>
		<resources>
			<eb2corder_setup>
				<setup>
					<module>EbayEnterprise_Eb2cOrder</module>
				</setup>
			</eb2corder_setup>
		</resources>
		<events>
			<sales_order_place_after>
				<observers>
					<createrequest_observer>
						<type>singleton</type>
						<class>EbayEnterprise_Eb2cOrder_Model_Create</class>
						<method>observerCreate</method>
					</createrequest_observer>
				</observers>
			</sales_order_place_after>
			<filetransfer_import_complete>
				<observers>
					<eb2c_order_process_feeds>
						<class>eb2corder/status_feed</class>
						<method>processFeeds</method>
						<type>model</type>
					</eb2c_order_process_feeds>
				</observers>
			</filetransfer_import_complete>
		</events>
	</global>
	<crontab>
		<jobs>
			<eb2corder_order_create_retry>
				<run>
					<model>eb2corder/create::retryOrderCreate</model>
				</run>
			</eb2corder_order_create_retry>
		</jobs>
	</crontab>
	<frontend>
		<layout>
			<updates>
				<ebayenterprise_eb2corder module="EbayEnterprise_Eb2cOrder">
					<file>eb2corder_frontend.xml</file>
				</ebayenterprise_eb2corder>
			</updates>
		</layout>
		<translate>
			<modules>
				<EbayEnterprise_Eb2cOrder>
					<files>
						<default>EbayEnterprise_Eb2cOrder.csv</default>
					</files>
				</EbayEnterprise_Eb2cOrder>
			</modules>
		</translate>
	</frontend>
	<adminhtml>
		<translate>
			<modules>
				<EbayEnterprise_Eb2cOrder>
					<files>
						<default>EbayEnterprise_Eb2cOrder.csv</default>
					</files>
				</EbayEnterprise_Eb2cOrder>
			</modules>
		</translate>
	</adminhtml>
	<default>
		<eb2ccore>
			<email>
				<transactional_emailer>'mage'</transactional_emailer>
			</email>
			<feed>
				<filetransfer_imports>
					<order_status_feed>
						<local_directory>ExchangePlatform/Feed/inbox/order</local_directory>
						<root_node_name>OrderStatuses</root_node_name>
						<event_type>OrderStatus</event_type>
						<xsd>Order-Status-1 0.xsd</xsd>
						<header_version>2.3.0</header_version>
					</order_status_feed>
				</filetransfer_imports>
			</feed>
		</eb2ccore>
		<eb2corder>
			<api>
				<service>orders</service>
				<return_format>xml</return_format>
				<create_operation>create</create_operation>
				<cancel_operation>cancel</cancel_operation>
				<create_dom_root_node_name>OrderCreateRequest</create_dom_root_node_name>
				<cancel_dom_root_node_name>OrderCancelRequest</cancel_dom_root_node_name>
				<order_type>SALES</order_type>
				<level_of_service>REGULAR</level_of_service>
				<ship_group_destination_id>dest_1</ship_group_destination_id>
				<ship_group_billing_id>billing_1</ship_group_billing_id>
				<order_history_path>sales/order/view/order_id/</order_history_path>
			</api>
			<api_search_service>customers</api_search_service>
			<api_search_operation>orders/get</api_search_operation>
			<xsd>
				<create_file>Order-Service-Create-1.0.xsd</create_file>
				<cancel_file>Order-Service-Cancel-1.0.xsd</cancel_file>
				<search_file>Order-Service-Search-1.0.xsd</search_file>
			</xsd>
			<shipping>
				<tax_class>93000</tax_class>
			</shipping>
		</eb2corder>
	</default>
	<phpunit>
		<suite>
			<modules>
				<EbayEnterprise_Eb2cOrder/>
			</modules>
		</suite>
	</phpunit>
</config>
